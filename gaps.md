# فجوات النظام

## تكرار معرف التطبيق PLM
- **التأثير:** قد يؤدي إلى تعارض في تحميل التطبيق وإعداداته.
- **الجهد:** صغير (S)
- **المخاطر:** استمرار التكرار قد يسبب أخطاء عند الترحيل أو الاختبارات.
- **البناء أم الدمج:** تعديل يدوي في الإعدادات (Build)
- **خطوات التحقق:**
  1. إزالة التكرار من `config/settings.py` أو ضبط `label` في `apps/plm/apps.py`.
  2. إعادة تشغيل السيرفر والتأكد من عدم ظهور تحذيرات.

## غياب تطبيق Media
- **التأثير:** روابط وإعدادات غير صالحة تسبب أخطاء 404 عند الوصول إلى الوسائط.
- **الجهد:** متوسط (M)
- **المخاطر:** فشل رفع أو عرض الملفات للمستخدمين.
- **البناء أم الدمج:** إنشاء تطبيق داخلي أو دمج حزمة جاهزة (Integrate)
- **خطوات التحقق:**
  1. إنشاء مجلد `apps/media` مع ملفات `urls.py` و`views.py`.
  2. تشغيل `python manage.py check` للتأكد من تحميل التطبيق.

## فجوات الترجمة في القالب الأساسي
- **التأثير:** واجهة غير قابلة للتعريب الكامل وتعدد اللغات.
- **الجهد:** صغير (S)
- **المخاطر:** تجربة مستخدم ضعيفة للمستخدمين غير العرب.
- **البناء أم الدمج:** إضافة وسوم الترجمة في القالب (Build)
- **خطوات التحقق:**
  1. إضافة `{% trans %}` للنصوص الثابتة في `core/templates/core/base.html`.
  2. توليد ملفات الترجمة وتشغيلها عبر `django-admin compilemessages`.

## نقص Serializers في وحدة المبيعات
- **التأثير:** تعذر توفير واجهات API منظمة للمبيعات.
- **الجهد:** متوسط (M)
- **المخاطر:** صعوبة التكامل مع الأنظمة الأخرى أو تطبيقات الجوال.
- **البناء أم الدمج:** بناء Serializers مخصصة (Build)
- **خطوات التحقق:**
  1. إنشاء `serializers.py` داخل `apps/sales` وتغطية النماذج المطلوبة.
  2. إضافة اختبارات REST للتأكد من صحة المخرجات.

## نماذج QMS غير مسجلة في لوحة الإدارة
- **التأثير:** عدم إمكانية إدارة نماذج الجودة عبر لوحة التحكم.
- **الجهد:** صغير (S)
- **المخاطر:** إدارة بيانات الجودة خارج النظام أو يدوياً.
- **البناء أم الدمج:** تسجيل النماذج في `admin.py` (Build)
- **خطوات التحقق:**
  1. إضافة `admin.site.register` لكل نموذج مفقود.
  2. الدخول إلى لوحة الإدارة والتأكد من ظهور النماذج.

## غياب اختبارات لوحدة المخزون
- **التأثير:** انخفاض موثوقية الوحدة واحتمال تسرب أخطاء.
- **الجهد:** متوسط (M)
- **المخاطر:** أعطال غير مكتشفة في عمليات المخزون.
- **البناء أم الدمج:** كتابة اختبارات وحدات وتكامل (Build)
- **خطوات التحقق:**
  1. إنشاء ملفات اختبارات ضمن `tests` تغطي السيناريوهات الأساسية.
  2. تشغيل `pytest` والتأكد من نجاحها.

## مهام TODO في تكاملات الحملات للجوال
- **التأثير:** عدم توفر قنوات إرسال الرسائل القصيرة أو واتساب.
- **الجهد:** كبير (L)
- **المخاطر:** فقدان التواصل مع العملاء أو المستخدمين.
- **البناء أم الدمج:** دمج مع مزودين خارجيين (Integrate)
- **خطوات التحقق:**
  1. تنفيذ الاتصال بـ Twilio أو Gupshup.
  2. إرسال رسالة تجريبية والتأكد من استلامها.

## تبعيات ناقصة في المتطلبات
- **التأثير:** فشل المهام الخلفية أو عدم توفر حقول الألوان.
- **الجهد:** صغير (S)
- **المخاطر:** توقف وظائف تعتمد على Celery أو حقول الألوان.
- **البناء أم الدمج:** إضافة الحزم إلى `requirements.txt` (Build)
- **خطوات التحقق:**
  1. تحديث `requirements.txt` بـ `django_celery_results` و`django-colorfield`.
  2. إعادة تثبيت الحزم وتشغيل الاختبارات المتعلقة.
