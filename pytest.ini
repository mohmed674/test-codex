[pytest]
DJANGO_SETTINGS_MODULE = config.settings_test

python_files = tests.py test_*.py *_tests.py
testpaths = tests

norecursedirs =
    env
    venv
    .git
    .hg
    .svn
    __pycache__
    build
    dist
    node_modules
    ERP_CORE/tests/_disabled

markers =
    django_db: mark test as requiring the Django test database.
    transactional_db: mark test as requiring transactional database access.
    unit: fast unit tests that avoid database access.
    integration: integration tests that may hit the database or external services.
    e2e: end-to-end tests or smoke tests.
    slow: slow-running or resource-heavy tests.

addopts =
    --cov=apps
    --cov=config
    --cov-report=term-missing
    --cov-report=html
    --disable-warnings
    --create-db
    --ignore=ERP_CORE/tests/_disabled
    --ignore=tests/test_campaigns.py
