{% extends "core/base.html" %}
{% load i18n static %}
{% url 'products:product_list' as PRODUCT_LIST_URL %}

{% block title %}{% trans "ูุงุฆูุฉ ุงูููุชุฌุงุช" %}{% endblock %}
{% block header_title %}๐ฆ {% trans "ุงูููุชุฌุงุช ุงูููุงุฆูุฉ" %}{% endblock %}
{% block breadcrumbs %}<a href="{% url 'core:launcher' %}">{% trans "ุงูุชุทุจููุงุช" %}</a> / {% trans "ุงูููุชุฌุงุช" %}{% endblock %}

{% block extra_head %}
  {# ุงูุชุญููู ุงูููุฑู ุฅูู ุตูุญุฉ ุงูููุชุฌุงุช ุงูููุงุณูุฉ #}
  <meta http-equiv="refresh" content="0; url={{ PRODUCT_LIST_URL }}">

  {# ุชุญุณููุงุช ุฏูู ุญุฐู ุงููุงุฆู #}
  {% if PRODUCT_LIST_URL %}
    <link rel="canonical" href="{{ PRODUCT_LIST_URL }}">
    <link rel="prefetch" href="{{ PRODUCT_LIST_URL }}">
  {% endif %}
{% endblock %}

{% block content %}
<div class="container-fluid px-3 py-4">
  <div class="alert alert-info d-flex justify-content-between align-items-center">
    <span>{% trans "ูุชู ุงูุขู ุชุญูููู ุฅูู ุตูุญุฉ ุงูููุชุฌุงุช ุงูููุงุณูุฉ." %}</span>
    <a class="btn btn-primary" href="{{ PRODUCT_LIST_URL }}">{% trans "ุงูุงูุชูุงู ุงูุขู" %}</a>
  </div>

  <div class="d-flex align-items-center gap-2 text-muted" aria-live="polite">
    <div class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></div>
    <small>{% trans "ุฌุงุฑู ุงูุชุญูููโฆ" %}</small>
  </div>

  {% if not PRODUCT_LIST_URL %}
    <div class="alert alert-warning mt-3">
      <div class="fw-bold">{% trans "ุชุนุฐูุฑ ุชุญุฏูุฏ ูุณุงุฑ ูุงุฆูุฉ ุงูููุชุฌุงุช." %}</div>
      <div class="mt-2">
        <a class="btn btn-outline-primary btn-sm" href="/products/">{% trans "ูุญุงููุฉ ุนุจุฑ /products/" %}</a>
      </div>
    </div>
  {% endif %}

  <noscript>
    <div class="alert alert-secondary mt-3">
      {% trans "ุงููุชุตูุญ ูุง ูุฏุนู ุงูุฌุงูุงุณูุฑูุจุชโุงุณุชุฎุฏู ุงูุฑุงุจุท ุฃุนูุงู ููุงูุชูุงู." %}
    </div>
  </noscript>
</div>

<script>
(function(){
  var target = "{{ PRODUCT_LIST_URL }}";
  if (!target) return;
  try {
    var qs = location.search || "";
    if (qs) target += (target.indexOf('?') === -1 ? qs : '&' + qs.slice(1));
    window.location.replace(target);
  } catch (e) {
    location.href = target;
  }
})();
</script>
{% endblock %}
