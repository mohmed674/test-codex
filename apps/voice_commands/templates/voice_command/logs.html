{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow p-4 rounded-4">
    <h3 class="mb-4">ğŸ™ï¸ Ø³Ø¬Ù„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ©</h3>

    <!-- âœ… Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„Ø§Øª -->
    <div class="table-responsive">
      <table class="table table-bordered table-striped text-center align-middle">
        <thead class="table-dark">
          <tr>
            <th>ğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</th>
            <th>ğŸ“ Ø§Ù„Ø¯ÙˆØ±</th>
            <th>ğŸ”Š Ø§Ù„ØµÙˆØª</th>
            <th>ğŸ“ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø­ÙˆÙ„</th>
            <th>â° Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
          </tr>
        </thead>
        <tbody>
          {% for command in logs %}
          <tr>
            <td>{{ command.user }}</td>
            <td>{{ command.get_role_display }}</td>
            <td>
              {% if command.audio_file %}
                <audio controls>
                  <source src="{{ command.audio_file.url }}" type="audio/wav">
                  Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª.
                </audio>
              {% else %}
                âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯
              {% endif %}
            </td>
            <td>{{ command.transcript|default:"-" }}</td>
            <td>{{ command.timestamp|date:"Y-m-d H:i" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-danger">âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙˆØ§Ù…Ø± ØµÙˆØªÙŠØ© Ù…Ø³Ø¬Ù„Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
