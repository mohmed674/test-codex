# Demand Forecasting – التنبؤ الذكي بالطلب

## 🎯 الهدف
تحليل بيانات المبيعات السابقة لتقدير الكميات المتوقعة للمنتجات في الأشهر القادمة، ما يساهم في تحسين التخطيط الشرائي والإنتاجي وتقليل الهدر وزيادة التوافر.

---

## 🧩 الموديل الرئيسي

### `Forecast`
| الحقل | النوع | الوصف |
|-------|-------|--------|
| product | FK (Product) | المنتج المتوقع له الطلب |
| forecast_month | Date | الشهر المستهدف |
| predicted_quantity | Integer | الكمية المتوقعة (محسوبة) |
| created_at | DateTime | وقت توليد التنبؤ |

---

## ⚙️ الوظائف

| الوظيفة | المسار | الوصف |
|---------|--------|--------|
| عرض التنبؤات | `/demand_forecasting/` | قائمة بالتوقعات المحفوظة |
| توليد تنبؤ | `/demand_forecasting/generate/` | إنشاء تنبؤ جديد بناءً على متوسط المبيعات آخر 3 أشهر |

---

## 🧠 خوارزمية التنبؤ (المرحلة الأولى)

- تعتمد على `InvoiceItem` في تطبيق `sales`
- يتم جمع مبيعات آخر 3 أشهر للمنتج
- يتم حساب المتوسط الشهري وتسجيله كتوقع للشهر القادم

---

## 🔁 التكاملات

- ✅ `products` – لتحديد المنتج
- ✅ `sales` – لاستخدام بيانات الفواتير وتحديد كمية البيع
- 🔮 دعم مستقبلًا لدمج نماذج تعلم آلي (Machine Learning)

---

## 📄 القوالب

| القالب | الاستخدام |
|--------|-----------|
| `forecast_list.html` | عرض التنبؤات |
| `forecast_form.html` | تحديد منتج وشهر للتنبؤ |

---

## 📤 التصدير والطباعة

- غير مفعّل حاليًا
- يمكن لاحقًا تصدير تقارير تنبؤ XLS / PDF

---

## ✅ جاهزية الإنتاج
- جاهز للعمل الفوري في تخطيط الطلب والإنتاج
- قابل للتوسعة لاحقًا بنماذج معقدة للتعلم الآلي والتنبؤ الموسمي

