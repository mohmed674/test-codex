# CRM (إدارة علاقات العملاء)

يتيح هذا التطبيق إدارة العملاء المحتملين، وتسجيل التفاعلات والفرص البيعية، وتحويلهم إلى عملاء فعليين بشكل ذكي وآلي. يدعم التتبع الكامل لمسار العميل منذ أول اتصال حتى الإغلاق.

---

## 🧩 الموديلات

- `Lead`: العميل المحتمل بمعلوماته الأساسية وحالته
- `Interaction`: سجل التفاعل مع العميل المحتمل (مكالمة، زيارة، متابعة...)
- `Opportunity`: فرصة بيعية مرتبطة بالعميل المحتمل بقيمة وتاريخ متوقع

---

## ⚙️ الوظائف

- تسجيل العملاء المحتملين وتحديد مصدرهم
- تعيين الحالة: جديد، تم التواصل، مهتم، تم التحويل، مفقود
- تسجيل التفاعلات المختلفة مع كل عميل
- إنشاء فرصة بيعية مع تحديد قيمة وتاريخ الإغلاق المتوقع
- عرض تفاصيل العميل وتاريخه وتفاعلاته وفرصه البيعية

---

## 🔄 التكاملات

- عند تغيير حالة العميل إلى `تم التحويل (converted)`، يتم إنشاء سجل تلقائي له في تطبيق `clients`
- تكامل مع `employees` لتحديد الموظف المسؤول
- يتم دعم دمج النتائج مع المبيعات لاحقًا

---

## 🧠 الذكاء الآلي

- `signals.py`: عند تحويل العميل المحتمل، يتم إضافته تلقائيًا إلى قاعدة بيانات العملاء
- `tasks.py`: مهمة ترسل إشعارًا داخليًا أو سجل تنبيه إذا لم تتم متابعة عميل محتمل جديد خلال 5 أيام
- `permissions.py`: تقييد التعديلات لموظفي المبيعات فقط

---

## 🧾 التقارير والتصدير

- تقرير بجميع العملاء المحتملين حسب الحالة والمصدر
- إمكانية التصفية حسب الموظف المسؤول
- دعم تصدير Excel وPDF سيكون مدمج لاحقًا في نظام التقارير الموحد

---

## 🔐 الصلاحيات

- فقط موظفي المبيعات وفرق الإدارة يمكنهم إضافة/تعديل العملاء والتفاعلات والفرص
- المستخدمون الآخرون يمكنهم الاطلاع فقط

---

## 🧪 التكامل مع الأنظمة

| النظام            | التكامل                                  |
|-------------------|-------------------------------------------|
| `clients`         | تحويل العميل المحتمل تلقائيًا عند التغيير |
| `employees`       | تعيين المسؤول عن العميل المحتمل          |
| `notifications`   | إرسال إشعار داخلي (عبر `tasks.py`)        |

---

## 📂 الملفات المنفذة

- `models.py`
- `views.py`
- `forms.py`
- `admin.py`
- `urls.py`
- `templates/crm/` (كاملة)
- `permissions.py`
- `serializers.py`
- `signals.py`
- `tasks.py`
- `README.md` ← هذا الملف

---

✅ **تم قفل تطبيق CRM بالكامل بعد التنفيذ والتوثيق النهائي.**
