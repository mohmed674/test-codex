# Workflow – نظام الأتمتة الذكي للإجراءات

## 🎯 الهدف
إنشاء قواعد أتمتة لتنفيذ إجراءات تلقائية (مثل إرسال بريد، تغيير حالة، تنبيه مستخدم، إسناد مهمة) عند تحقق شروط معينة، بناءً على الأحداث مثل الإنشاء أو التعديل أو تغيير الحالة.

---

## 🧩 الموديل الرئيسي

### `WorkflowRule`
| الحقل | النوع | الوصف |
|-------|-------|--------|
| name | CharField | اسم القاعدة |
| model_name | CharField | اسم النموذج المستهدف (مثل: PurchaseOrder) |
| trigger_event | CharField (choices) | الحدث المحفز (إنشاء، تعديل، تغيير حالة) |
| condition_field | CharField | اسم الحقل الذي سيتم التحقق منه |
| condition_value | CharField | القيمة المطلوب تحققها لتفعيل القاعدة |
| action_type | CharField (choices) | نوع الإجراء المطلوب (تغيير حالة، إرسال بريد...) |
| action_value | CharField | تفاصيل الإجراء (مثل اسم الحالة، المستخدم المستهدف...) |

---

## ⚙️ الوظائف

| الوظيفة | المسار | الوصف |
|---------|--------|--------|
| عرض القواعد | `/workflow/` | عرض جميع قواعد الأتمتة الحالية |
| إنشاء قاعدة جديدة | `/workflow/create/` | إدخال قاعدة جديدة بالأحداث والشروط والإجراءات |

---

## 🔁 التكاملات

- 🔌 يمكن استخدام هذه القواعد مع أي تطبيق في النظام (مشتريات، محاسبة، مشاريع، موارد بشرية...)
- ✅ يسمح ببناء منطق ذكي تلقائي مثل:
  - إذا كانت قيمة الفاتورة > 100000 → إرسال تنبيه للمدير
  - عند اعتماد طلب شراء → تغيير حالته تلقائيًا

---

## 📄 القوالب

| القالب | الاستخدام |
|--------|-----------|
| `workflow_list.html` | عرض القواعد الشرطية والإجراءات المرتبطة |
| `workflow_form.html` | إنشاء أو تعديل القواعد |

---

## 🧠 الذكاء الاصطناعي (مستقبلي)

- يمكن تطوير الذكاء الاصطناعي لاكتشاف الإجراءات المتكررة واقتراح قواعد جديدة تلقائيًا

---

## ✅ جاهزية الإنتاج
- جاهز للعمل مباشرة
- يمكن ربطه مع الإشعارات والتقارير والمهام التلقائية الأخرى
- يدعم التوسع ليشمل توقيع إلكتروني، دمج مع API خارجي، مهام متعددة

